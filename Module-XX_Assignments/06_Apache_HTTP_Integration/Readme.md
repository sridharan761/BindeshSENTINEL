# CS-06: Plan, Design and Implement threat intelligence and SOAR solution for `Apache HTTP Servers`

## Scenario and Problem Statement

- You are a Security Operations Analyst working at a company that implemented Microsoft Sentinel.
- As part of the security team, you have been asked to join a company meeting related to security concern.
- Your company need to automate its threat detection capabilities.
- There are few reasons:
  1. **An increase in the number of cyber attacks on your Apache Web Server.**
  2. **Management would like to have an intelligent security analytics and threat intelligence across the enterprise.**
  3. **The Company would like to utilize a single tool to investigate threats and collect data from multiple sources.**
- The security team has decided to use Microsoft Sentinel to implement Threat detection and response related to Apache web server.

## Technical Requirements needed to implement this solution

### 01: A Machine (Virtual/Physical) with Apache webserver configured

### 02: Install the agent on the Apache HTTP Server where the logs are generated.

### 03: Active Microsoft Azure Subscription

### 04: Log Analytics Workspace

## Configure Microsoft Sentinel

### Step-01: Review the Threat Detection scenario with Apache HTTP Server

### Step-02: Configure the Azure Log Analytics Workspace

### Step-03: Add Microsoft Sentinel to a Log Analytics Workspace

### Step-04: Review and Configure Sentinel Data Connector

### Step-05: Configure the Apache HTTP Server Data Connector

### Step-06: Configure Apache Server for pushing the logs to LAW

### Step-07: Investigate the ingested logs from Apache HTTP Server

### Step-08: Simulate the attack on Apache HTTP Server (Optional)

### Step-09: Setup a Sentinel Anlytics rule to analyze the possible threats

### Step-10: Trigger an Incident based on the detected threats

### Step-11: Review the Incident that is created

### Step-12: Prepare Automated response actions to remediate the issue

### Step-13: Automate Threat reponse using Azure Playbooks (Logic Apps)

## [References](https://learn.microsoft.com/en-us/azure/sentinel/data-connectors/apache-http-server)
